; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --profile %S/Inputs/samples1.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY1  --match-full-lines --strict-whitespace
; DENSITY1:AutoFDO is estimated to optimize better with 393.04x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY1:Minimum profile density for hot functions with top 99.00% total samples: 2.54

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-density-threshold=0.1 --profile %S/Inputs/samples2.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY2  --match-full-lines --strict-whitespace
; DENSITY2-NOT:AutoFDO is estimated to optimize better with 2561.90x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY2:Minimum profile density for hot functions with top 99.00% total samples: 0.39

; RUN: llvm-create-profile --sample_threshold_frac=0 --profile %S/Inputs/samples3.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY3  --match-full-lines --strict-whitespace
; DENSITY3:AutoFDO is estimated to optimize better with 782.72x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY3-NOT:Minimum profile density for hot functions with top 99.00% total samples: 1.28

; RUN: llvm-create-profile --sample_threshold_frac=0 --hot-function-density-threshold=0.5 --profile %S/Inputs/samples4.txt --profiler text --format text --binary %S/Inputs/find --out %t2 &> %t3
; RUN: count 0 < %t3

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-cutoff=0 --profile %S/Inputs/samples5.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY5  --match-full-lines --strict-whitespace
; DENSITY5:--hot-function-cutoff needs to be within (0, 100]. User specified value is ignored and default value 99.00 is used.
; DENSITY5:AutoFDO is estimated to optimize better with 2404.91x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY5:Minimum profile density for hot functions with top 99.00% total samples: 0.42

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-density-threshold=100 --profile %S/Inputs/samples7.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY7  --match-full-lines --strict-whitespace
; DENSITY7:AutoFDO is estimated to optimize better with 202.46x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY7:Minimum profile density for hot functions with top 99.00% total samples: 0.49

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-cutoff=50 --profile %S/Inputs/samples8.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY8  --match-full-lines --strict-whitespace
; DENSITY8:AutoFDO is estimated to optimize better with 813.37x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY8:Minimum profile density for hot functions with top 50.00% total samples: 1.23

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-density-threshold=-1 --profile %S/Inputs/samples8.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY9  --match-full-lines --strict-whitespace
; DENSITY9:--hot-function-density-threshold needs to be positive. User specified value is ignored and default value 1000.00 is used.
; DENSITY9:AutoFDO is estimated to optimize better with 813.37x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY9:Minimum profile density for hot functions with top 99.00% total samples: 1.23

; RUN: llvm-create-profile --sample_threshold_frac=0 --show-density=true --hot-function-density-threshold=0 --hot-function-cutoff=-2 --profile %S/Inputs/samples8.txt --profiler text --format text --binary %S/Inputs/find --out %t2 | FileCheck %s --check-prefix=DENSITY10  --match-full-lines --strict-whitespace
; DENSITY10:--hot-function-cutoff needs to be within (0, 100]. User specified value is ignored and default value 99.00 is used.
; DENSITY10:--hot-function-density-threshold needs to be positive. User specified value is ignored and default value 1000.00 is used.
; DENSITY10:AutoFDO is estimated to optimize better with 813.37x more samples. Please consider increasing sampling rate or profiling for longer duration to get more samples.
; DENSITY10:Minimum profile density for hot functions with top 99.00% total samples: 1.23
