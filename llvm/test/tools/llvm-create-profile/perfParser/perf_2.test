; RUN: llvm-create-profile --dump-perf-samples=%t1 --profile %s --profiler perf --format text --binary %S/Inputs/find --out %t2 > %t3 2>&1
; RUN: FileCheck %s --input-file %t1

PERF_RECORD_MMAP2 26261/26261: [0x400000(0x2f000) @ 0 103:02 4474231 3020266127]: r-xp ./Inputs/find
            411f1e
            411f10
  0x412083/0x41209a/M/-/-/9  0x412073/0x41207a/P/-/-/2  0x412088/0x412070/P/-/-/1  0x412073/0x41207a/P/-/-/1  0x412088/0x412070/P/-/-/3  0x412073/0x41207a/P/-/-/2  0x412088/0x412070/P/-/-/3  0x412088/0x412070/P/-/-/1  0x412098/0x412085/P/-/-/4  0x412073/0x41207a/P/-/-/2  0x412088/0x412070/P/-/-/1  0x412073/0x41207a/P/-/-/1  0x412088/0x412070/P/-/-/3  0x412088/0x412070/P/-/-/1  0x412098/0x412085/P/-/-/2  0x412073/0x41207a/P/-/-/1  0x412088/0x412070/P/-/-/1  0x412073/0x41207a/P/-/-/1  0x412088/0x412070/P/-/-/1  0x412073/0x41207a/P/-/-/1  0x412088/0x412070/P/-/-/1  0x412065/0x412085/P/-/-/3  0x411f19/0x412040/P/-/-/2  0x40501a/0x411f10/P/-/-/3  0x4092cc/0x405010/P/-/-/1  0x4092f6/0x4092c3/P/-/-/1  0x4092af/0x4092f0/P/-/-/4  0x404b73/0x409290/P/-/-/2  0x404b57/0x404b62/P/-/-/2  0x4092cc/0x404b40/P/-/-/1  0x4092f6/0x4092c3/P/-/-/1  0x4092af/0x4092f0/P/-/-/5

; CHECK-LABEL: Samples for {{.*find}}
; CHECK: 14
; CHECK: 4b40-4b58:1
; CHECK: 4b62-4b74:1
; CHECK: 5010-501b:1
; CHECK: 9290-92b0:1
; CHECK: 92c3-92cd:2
; CHECK: 92f0-92f7:1
; CHECK: 11f10-11f1a:1
; CHECK: 12040-12066:1
; CHECK: 12070-12074:8
; CHECK: 12070-12089:2
; CHECK: 1207a-12084:1
; CHECK: 1207a-12089:5
; CHECK: 1207a-12099:2
; CHECK: 12085-12089:3
; CHECK: 0
; CHECK: 13
; CHECK: 4b57->4b62:1
; CHECK: 4b73->9290:1
; CHECK: 501a->11f10:1
; CHECK: 92af->92f0:1
; CHECK: 92cc->4b40:1
; CHECK: 92cc->5010:1
; CHECK: 92f6->92c3:2
; CHECK: 11f19->12040:1
; CHECK: 12065->12085:1
; CHECK: 12073->1207a:8
; CHECK: 12083->1209a:1
; CHECK: 12088->12070:10
; CHECK: 12098->12085:2


PERF_RECORD_MMAP2 26261/26261: [0x7f6a395b7000(0x22a000) @ 0 103:02 17043932 3562303068]: r-xp /lib/x86_64-linux-gnu/ld-2.27.so
PERF_RECORD_MMAP2 26261/26261: [0x7f6a39219000(0x39e000) @ 0 103:02 17043954 938666794]: r-xp /lib/x86_64-linux-gnu/libm-2.27.so
PERF_RECORD_MMAP2 26261/26261: [0x7f6a38e28000(0x3f1000) @ 0 103:02 17043950 3662147823]: r-xp /lib/x86_64-linux-gnu/libc-2.27.so
